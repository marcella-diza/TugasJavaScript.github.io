<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COFFEE TIME - Menu Kopi</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<style>
/* Palet Warna: Beige, Putih Gading, Cokelat Tua */

* {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: #F7F5EE; /* Putih Gading */
    color: #3A3A3A;
    min-height: 100vh;
}

/* --- HEADER / NAVBAR (Elegan) --- */

.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 80px;
    background-color: #ffffff; 
    box-shadow: 0 1px 10px rgba(0, 0, 0, 0.08); 
    position: sticky;
    top: 0;
    z-index: 1000;
}

.logo {
    font-size: 1.4rem;
    font-weight: 700;
    color: #704214;
    text-decoration: none; 
}

.nav-links a {
    text-decoration: none;
    color: #3A3A3A;
    font-weight: 500;
    font-size: 0.9rem;
    margin-left: 30px;
    padding: 5px 0;
    transition: color 0.3s, border-bottom 0.3s;
}

.nav-links .active {
    color: #704214;
    border-bottom: 2px solid #704214; 
}

.nav-links a:hover {
    color: #704214;
}

/* --- HERO SECTION (Dinonaktifkan di halaman menu) --- */
.hero-section {
    display: none; 
}

/* --- COFFEE MENU SECTION (Tampilan E-commerce) --- */

.menu-section {
    padding: 40px 80px 80px;
    max-width: 1440px;
    margin: 0 auto;
    background-color: #F7F5EE;
}

.menu-heading {
    font-size: 2rem;
    font-weight: 600;
    color: #704214;
    margin-bottom: 10px; 
    text-align: center; 
}

/* Gaya baru untuk tombol pindah menu */
.menu-nav-container {
    text-align: center;
    margin-bottom: 40px; 
}

.btn-secondary {
    display: inline-block;
    background-color: #704214; 
    color: #ffffff;
    border: none;
    padding: 12px 30px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    border-radius: 8px;
    transition: background-color 0.3s, transform 0.2s;
    text-decoration: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
}

.btn-secondary:hover {
    background-color: #5d360f;
    transform: translateY(-2px);
}


.menu-grid {
    display: flex;
    gap: 20px; 
    justify-content: center;
    flex-wrap: wrap;
}

/* Gaya Kartu Produk yang Lebih Elegan (tetap sama) */
.card {
    background-color: #ffffff; 
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); 
    width: 250px; 
    padding: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: box-shadow 0.3s, transform 0.3s;
}

.card:hover {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    transform: translateY(-3px); 
}

.card img {
    width: 100%;
    max-width: 200px;
    height: 200px;
    object-fit: cover;
    border-radius: 8px; 
    margin-bottom: 10px;
    border: 1px solid #eee; 
}

.card h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #3A3A3A;
    text-align: left; 
    width: 100%;
    margin-top: 10px;
}

.card .subtitle {
    font-size: 0.8rem;
    color: #888;
    text-align: left;
    width: 100%;
    margin-bottom: 10px;
}

.price-action {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding-top: 10px;
    border-top: 1px solid #f0f0f0;
}

.price {
    font-size: 1rem;
    font-weight: 700;
    color: #704214;
}

.btn-beli {
    background-color: #704214; 
    color: #ffffff;
    border: none;
    padding: 6px 12px;
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.3s;
}

.btn-beli:hover {
    background-color: #5d360f;
}

/* Tombol Lihat Keranjang */
#view-cart-btn {
    display: block;
    margin: 40px auto 0;
    background-color: #E5CDB4; 
    color: #704214;
    border: none;
    padding: 12px 30px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s;
}

#view-cart-btn:hover {
    background-color: #d1b89e;
}

/* --- RESPONSIVENESS --- */

@media (max-width: 992px) {
    .navbar, .menu-section {
        padding-left: 30px;
        padding-right: 30px;
    }
}

@media (max-width: 600px) {
    .navbar { 
        flex-direction: column; 
        align-items: flex-start; 
    }
    .nav-links { 
        margin-top: 10px; 
    }
    .nav-links a { 
        margin: 0 10px 0 0; 
    }
    .menu-section {
        padding: 20px 20px;
    }
    .card { 
        width: 100%; 
        max-width: 300px;
    }
}
</style>
<body>

    <header class="navbar">
        <a href="index.html" class="logo">COFFEE TIME</a>
        <nav class="nav-links">
            <a href="index.html">HOME</a>
            <a href="coffee.html" class="active">COFFEE</a>
            <a href="bakery.html">BAKERY</a>
            <a href="order.html">ORDER</a>
            <a href="about.html">ABOUT</a>
        </nav>
    </header>

    <main class="menu-section">
        <h2 class="menu-heading">â˜• Menu Kopi Kami</h2>
        
        <div class="menu-nav-container">
            <a href="bakery.html" class="btn-secondary">Lihat Menu Roti & Kue</a>
        </div>
        
        <div class="menu-grid">
            
            <div class="card" data-name="Cappuccino Klasik" data-price="15000">
                <img src="image_846e06.png" alt="Secangkir cappuccino coffee">
                <h3>Cappuccino Klasik</h3>
                <p class="subtitle">Busa tebal dan rasa seimbang.</p>
                <div class="price-action">
                    <span class="price">Rp. 15.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>

            <div class="card" data-name="Espresso" data-price="15000">
                <img src="image_65850b.png" alt="Secangkir espresso coffee">
                <h3>Espresso</h3>
                <p class="subtitle">Satu tembakan konsentrat kopi kuat.</p>
                <div class="price-action">
                    <span class="price">Rp. 15.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>

            <div class="card" data-name="Americano" data-price="17000">
                <img src="image_846e06.png" alt="Secangkir americano coffee">
                <h3>Americano</h3>
                <p class="subtitle">Espresso yang diencerkan dengan air panas.</p>
                <div class="price-action">
                    <span class="price">Rp. 17.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>

            <div class="card" data-name="Coffee Latte" data-price="22000">
                <img src="image_65850b.png" alt="Secangkir coffee latte">
                <h3>Coffee Latte</h3>
                <p class="subtitle">Campuran creamy susu dan espresso.</p>
                <div class="price-action">
                    <span class="price">Rp. 22.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>

                        <div class="card" data-name="Coffee Latte" data-price="22000">
                <img src="image_65850b.png" alt="Secangkir coffee latte">
                <h3>Coffee Latte</h3>
                <p class="subtitle">Campuran creamy susu dan espresso.</p>
                <div class="price-action">
                    <span class="price">Rp. 22.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>

                        <div class="card" data-name="Coffee Latte" data-price="22000">
                <img src="image_65850b.png" alt="Secangkir coffee latte">
                <h3>Coffee Latte</h3>
                <p class="subtitle">Campuran creamy susu dan espresso.</p>
                <div class="price-action">
                    <span class="price">Rp. 22.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>

                        <div class="card" data-name="Coffee Latte" data-price="22000">
                <img src="image_65850b.png" alt="Secangkir coffee latte">
                <h3>Coffee Latte</h3>
                <p class="subtitle">Campuran creamy susu dan espresso.</p>
                <div class="price-action">
                    <span class="price">Rp. 22.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>

                        <div class="card" data-name="Coffee Latte" data-price="22000">
                <img src="image_65850b.png" alt="Secangkir coffee latte">
                <h3>Coffee Latte</h3>
                <p class="subtitle">Campuran creamy susu dan espresso.</p>
                <div class="price-action">
                    <span class="price">Rp. 22.000,00</span>
                    <button class="btn-beli">Beli</button>
                </div>
            </div>
        </div>
        
        <button id="view-cart-btn">Lihat Keranjang Anda</button>

    </main>

<script>
    // --- 1. VALIDASI DETAIL PEMESANAN AWAL (Wajib Diisi) ---
    // Fungsi ini dieksekusi segera saat halaman dimuat.
    (function checkOrderDetailsAndRedirect() {
        const orderDetails = localStorage.getItem('customerOrderDetails');

        if (!orderDetails) {
            // Jika detail TIDAK ADA, paksa pengguna mengisi form order.html
            alert("Mohon isi detail pemesanan (Nama & Layanan) terlebih dahulu.");
            
            // Arahkan segera ke halaman form pemesanan
            window.location.href = 'order.html';
        }
        // Jika detail ada, fungsi ini selesai, dan halaman dimuat normal.
    })();


    // --- 2. LOGIKA KERANJANG (Hanya Berjalan Jika Halaman Tidak Dialihkan) ---
    document.addEventListener('DOMContentLoaded', () => {
        // Mendapatkan referensi tombol
        const beliButtons = document.querySelectorAll('.btn-beli');
        const viewCartButton = document.getElementById('view-cart-btn');

        // FUNGSI MENAMBAH ITEM KE KERANJANG
        beliButtons.forEach(button => {
            button.addEventListener('click', (event) => {
                const card = event.target.closest('.card');
                const name = card.dataset.name;
                const price = parseInt(card.dataset.price);

                let cart = JSON.parse(localStorage.getItem('coffeeCart')) || [];
                
                const existingItem = cart.find(item => item.name === name);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ name, price, quantity: 1 });
                }
                
                localStorage.setItem('coffeeCart', JSON.stringify(cart));
                
                alert(`${name} telah ditambahkan ke keranjang!`);
            });
        });

        // FUNGSI MELIHAT KERANJANG & CHECKOUT (Kode yang sudah Anda modifikasi)
        viewCartButton.addEventListener('click', () => {
            let cart = JSON.parse(localStorage.getItem('coffeeCart')) || [];
            
            // Cek kembali data pelanggan (untuk amannya, meskipun seharusnya sudah ada)
            const orderDetailsRaw = localStorage.getItem('customerOrderDetails');
            
            // Validasi: Jika data pelanggan hilang entah kenapa, redirect lagi
            if (!orderDetailsRaw) {
                alert("Sesi pemesanan tidak ditemukan. Mohon isi form lagi.");
                window.location.href = 'order.html';
                return;
            }

            // Validasi Keranjang Kosong
            if (cart.length === 0) {
                alert("Keranjang Anda kosong. Silakan pilih produk dari menu.");
                return;
            }
            
            // Hanya tampilkan Daftar Produk dan Total Harga
            let cartSummary = "--- Daftar Produk ---\n";
            let total = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                cartSummary += `${index + 1}. ${item.name} (${item.quantity}x) - Rp. ${itemTotal.toLocaleString('id-ID')},00\n`;
                total += itemTotal;
            });

            cartSummary += `\nTOTAL HARGA: Rp. ${total.toLocaleString('id-ID')},00`;

            
            if(confirm(cartSummary + "\n\nKonfirmasi & Lanjutkan Pembayaran?")) {
                alert("Pesanan berhasil dikirim ke dapur! Silakan tunggu (simulasi).");
                
                // Hapus semua data LocalStorage setelah checkout
                localStorage.removeItem('coffeeCart'); 
                localStorage.removeItem('customerOrderDetails');
                window.location.reload(); 
            }
        });
    });
</script>
</body>
</html>
</body>
</html>